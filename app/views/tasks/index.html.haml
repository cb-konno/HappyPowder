= render 'layouts/task/header', page_title: @page_title

%table#index
  %tr
    %th
      = Task.human_attribute_name :id
    %th
      = Task.human_attribute_name :name
    %th
      = Task.human_attribute_name :description
    %th
      = Task.human_attribute_name :status
    %th
      = Task.human_attribute_name :priority
    %th
      = Task.human_attribute_name :started_on
    %th
      = sort('ended_on')
    %th
      = sort('created_at')
    %th
      = Task.human_attribute_name :action
  - @tasks.each do |task|
    %tr
      %td
        = task.id
      %td
        = task.name
      %td
        = task.description
      %td
        = t("task.status.#{task.status}")
      %td
        = t("task.priority.#{task.priority}")
      %td
        = task.started_on
      %td
        = task.ended_on
      %td
        = task.created_at
      %td.menu
        = link_to t(:link_to_show), task_path(task)
        ／
        = link_to t(:link_to_edit), edit_task_path(task)
        ／
        = link_to t(:link_to_delete), task, method: :delete , data: { confirm: t('confirm.delete', target: Task.model_name.human) }

= render 'layouts/task/footer'
